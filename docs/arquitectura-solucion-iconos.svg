<svg xmlns="http://www.w3.org/2000/svg" width="1450" height="900" viewBox="0 0 1450 900" role="img" aria-label="Arquitectura de plataforma con stencils oficiales Azure y GitHub">
  <defs>
    <style>
      .t { font-family: 'Segoe UI', Arial, sans-serif; fill: #0f172a; }
      .title { font-size: 30px; font-weight: 700; }
      .subtitle { font-size: 13px; fill: #475569; }
      .h { font-size: 16px; font-weight: 700; }
      .s { font-size: 13px; fill: #334155; }
      .tag { font-size: 12px; font-weight: 700; fill: #475569; }
      .flow { font-size: 12px; font-weight: 700; fill: #1e293b; }
      .zone { rx: 14; ry: 14; stroke-width: 2; }
      .box { rx: 12; ry: 12; stroke-width: 2; }
      .line { stroke-width: 2.2; fill: none; marker-end: url(#arrow); }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#334155"/>
    </marker>
  </defs>

  <text x="725" y="50" class="t title" text-anchor="middle">L.A.M.A. Región Norte - Diagrama de Arquitectura</text>
  <text x="725" y="74" class="t subtitle" text-anchor="middle">Vista por capas usando stencils oficiales de Azure y GitHub</text>

  <rect x="40" y="140" width="320" height="620" class="zone" fill="#eef2ff" stroke="#4338ca"/>
  <text x="60" y="168" class="t tag">CANAL / CONSUMIDORES</text>
  <rect x="80" y="220" width="240" height="110" class="box" fill="#dbeafe" stroke="#2563eb"/>
  <text x="200" y="266" class="t h" text-anchor="middle">Usuarios Web</text>
  <text x="200" y="288" class="t s" text-anchor="middle">Desktop / Mobile</text>
  <rect x="80" y="390" width="240" height="110" class="box" fill="#e0f2fe" stroke="#0284c7"/>
  <text x="200" y="436" class="t h" text-anchor="middle">Administración</text>
  <text x="200" y="458" class="t s" text-anchor="middle">Operación portal</text>

  <rect x="390" y="140" width="760" height="620" class="zone" fill="#ecfeff" stroke="#0891b2"/>
  <text x="412" y="168" class="t tag">SUSCRIPCIÓN AZURE / CAPA DE APLICACIÓN</text>

  <rect x="440" y="220" width="660" height="140" class="box" fill="#cffafe" stroke="#06b6d4"/>
  <image href="icons-official/azure-app-service.svg" x="460" y="240" width="34" height="34"/>
  <text x="770" y="258" class="t h" text-anchor="middle">Azure App Service (Linux)</text>
  <text x="770" y="280" class="t s" text-anchor="middle">Hosting web + runtime Node.js</text>
  <rect x="470" y="300" width="180" height="46" class="box" fill="#fef3c7" stroke="#d97706"/>
  <text x="560" y="329" class="t s" text-anchor="middle">Express + EJS</text>
  <rect x="680" y="300" width="180" height="46" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="770" y="329" class="t s" text-anchor="middle">MVC + Service Layer</text>
  <rect x="890" y="300" width="180" height="46" class="box" fill="#e0e7ff" stroke="#4338ca"/>
  <text x="980" y="329" class="t s" text-anchor="middle">Assets públicos</text>

  <rect x="440" y="410" width="660" height="130" class="box" fill="#fee2e2" stroke="#b91c1c"/>
  <image href="icons-official/azure-sql-database.svg" x="460" y="430" width="34" height="34"/>
  <text x="770" y="448" class="t h" text-anchor="middle">Azure SQL Database</text>
  <text x="770" y="470" class="t s" text-anchor="middle">Persistencia transaccional + pool global (mssql)</text>
  <rect x="540" y="488" width="460" height="38" class="box" fill="#fff1f2" stroke="#e11d48"/>
  <text x="770" y="512" class="t s" text-anchor="middle">Consultas parametrizadas / seguridad SQL Injection</text>

  <rect x="440" y="580" width="660" height="150" class="box" fill="#ecfccb" stroke="#4d7c0f"/>
  <text x="770" y="608" class="t h" text-anchor="middle">Operación y Confiabilidad</text>
  <text x="770" y="631" class="t s" text-anchor="middle">Health checks · validación endpoints · runbook 503/startup timeout</text>
  <text x="770" y="656" class="t s" text-anchor="middle">Publicación controlada y verificación post-deploy</text>

  <rect x="1180" y="140" width="230" height="620" class="zone" fill="#f8fafc" stroke="#334155"/>
  <text x="1200" y="168" class="t tag">DEVOPS / GOBIERNO</text>
  <rect x="1210" y="230" width="170" height="120" class="box" fill="#f3f4f6" stroke="#111827"/>
  <image href="icons-official/github-mark.svg" x="1228" y="255" width="30" height="30"/>
  <text x="1295" y="282" class="t h" text-anchor="middle">GitHub</text>
  <text x="1295" y="304" class="t s" text-anchor="middle">Repo principal</text>

  <rect x="1210" y="390" width="170" height="120" class="box" fill="#dcfce7" stroke="#16a34a"/>
  <image href="icons-official/azure-app-service.svg" x="1228" y="415" width="30" height="30"/>
  <text x="1295" y="442" class="t h" text-anchor="middle">OneDeploy</text>
  <text x="1295" y="464" class="t s" text-anchor="middle">Release a App Service</text>

  <rect x="1210" y="550" width="170" height="140" class="box" fill="#e2e8f0" stroke="#475569"/>
  <text x="1295" y="592" class="t h" text-anchor="middle">Trazabilidad</text>
  <text x="1295" y="614" class="t s" text-anchor="middle">Commits auditables</text>
  <text x="1295" y="636" class="t s" text-anchor="middle">Documentación técnica</text>

  <line x1="320" y1="275" x2="440" y2="275" class="line" stroke="#2563eb"/>
  <line x1="320" y1="445" x2="440" y2="275" class="line" stroke="#0284c7"/>
  <line x1="770" y1="360" x2="770" y2="410" class="line" stroke="#b91c1c"/>
  <line x1="770" y1="540" x2="770" y2="580" class="line" stroke="#4d7c0f"/>
  <line x1="1180" y1="290" x2="1100" y2="290" class="line" stroke="#111827"/>
  <line x1="1180" y1="450" x2="1100" y2="290" class="line" stroke="#16a34a"/>
  <line x1="1100" y1="470" x2="1180" y2="620" class="line" stroke="#475569"/>

  <text x="372" y="266" class="t flow">F1</text>
  <text x="364" y="422" class="t flow">F2</text>
  <text x="782" y="392" class="t flow">F3</text>
  <text x="782" y="566" class="t flow">F4</text>
  <text x="1137" y="282" class="t flow">F5</text>
  <text x="1134" y="372" class="t flow">F6</text>
  <text x="1124" y="552" class="t flow">F7</text>

  <rect x="60" y="780" width="520" height="84" class="box" fill="#f8fafc" stroke="#94a3b8"/>
  <text x="80" y="808" class="t tag">LEYENDA DE FLUJOS</text>
  <text x="80" y="829" class="t s">F1/F2: ingreso de usuarios y administración · F3/F4: app→datos→operación</text>
  <text x="80" y="849" class="t s">F5/F6/F7: gobierno DevOps (GitHub/OneDeploy) y trazabilidad de plataforma</text>
</svg>
