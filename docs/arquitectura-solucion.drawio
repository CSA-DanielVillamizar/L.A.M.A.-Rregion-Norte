<mxfile host="app.diagrams.net" modified="2026-02-20T00:00:00.000Z" agent="GitHub Copilot" version="26.0.9" etag="lama-arq-2026">
  <diagram id="lama-arq-main" name="Arquitectura LAMA">
    <mxGraphModel dx="1500" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title" value="L.A.M.A. Región Norte - Arquitectura de Solución" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontStyle=1;fontSize=26;fontColor=#111827;" vertex="1" parent="1">
          <mxGeometry x="370" y="20" width="860" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="user" value="Usuario / Administrador" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2FE;strokeColor=#0284C7;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="230" width="190" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="browser" value="Navegador Web\n(Desktop / Mobile)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="280" y="220" width="210" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="appservice" value="Azure App Service (Linux)\nlamaregionnorte.azurewebsites.net" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#16A34A;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="560" y="180" width="460" height="360" as="geometry"/>
        </mxCell>

        <mxCell id="node" value="Node.js + Express\nserver.js" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#D97706;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="600" y="230" width="170" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="routes" value="Routes\n(mainRoutes, eventRoutes, apiRoutes)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E8FF;strokeColor=#7E22CE;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="790" y="230" width="210" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="controllers" value="Controllers\n(Orquestación MVC)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#BE185D;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="600" y="350" width="170" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="services" value="Services\n(Lógica de negocio)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE4E6;strokeColor=#E11D48;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="790" y="350" width="210" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="views" value="Views EJS + Partials\n(Header / Footer compartidos)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E7FF;strokeColor=#4338CA;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="600" y="450" width="170" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="public" value="public/\nCSS + JS + Assets" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2FE;strokeColor=#0369A1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="790" y="450" width="210" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="sql" value="Azure SQL Database\nPool Global (mssql)\nsrc/config/database.js" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FEE2E2;strokeColor=#B91C1C;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="1080" y="270" width="260" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="github" value="GitHub Repository\nmain branch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F4F6;strokeColor=#374151;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="560" y="610" width="210" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="deploy" value="Zip Deploy / OneDeploy\nAzure CLI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECFCCB;strokeColor=#4D7C0F;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="810" y="610" width="210" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="e1" value="HTTPS" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;strokeColor=#0284C7;endArrow=block;endFill=1;" edge="1" parent="1" source="user" target="browser">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e2" value="Request / Response" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;strokeColor=#2563EB;endArrow=block;endFill=1;" edge="1" parent="1" source="browser" target="node">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e3" value="routing" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#7E22CE;endArrow=block;endFill=1;" edge="1" parent="1" source="node" target="routes">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e4" value="orquesta" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#BE185D;endArrow=block;endFill=1;" edge="1" parent="1" source="routes" target="controllers">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e5" value="lógica" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#E11D48;endArrow=block;endFill=1;" edge="1" parent="1" source="controllers" target="services">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e6" value="queries parametrizadas" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#B91C1C;endArrow=block;endFill=1;" edge="1" parent="1" source="services" target="sql">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e7" value="render" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#4338CA;endArrow=block;endFill=1;" edge="1" parent="1" source="controllers" target="views">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e8" value="static assets" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#0369A1;endArrow=block;endFill=1;" edge="1" parent="1" source="node" target="public">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e9" value="push" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#374151;endArrow=block;endFill=1;" edge="1" parent="1" source="github" target="deploy">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e10" value="deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#4D7C0F;endArrow=block;endFill=1;" edge="1" parent="1" source="deploy" target="appservice">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
