<mxfile host="app.diagrams.net" modified="2026-02-20T00:00:00.000Z" agent="GitHub Copilot" version="26.0.9" etag="lama-deploy-flow-2026">
  <diagram id="lama-deploy-flow" name="Flujo Despliegue LAMA">
    <mxGraphModel dx="1500" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title" value="L.A.M.A. Región Norte - Flujo de Despliegue Operativo" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontStyle=1;fontSize=24;fontColor=#111827;" vertex="1" parent="1">
          <mxGeometry x="360" y="20" width="900" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="dev" value="Desarrollador\nLocal Workspace" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="220" width="180" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="git" value="Git\ncommit / push" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E5E7EB;strokeColor=#374151;" vertex="1" parent="1">
          <mxGeometry x="280" y="220" width="170" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="github" value="GitHub Repo\nmain" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F4F6;strokeColor=#111827;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="220" width="190" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="artifact" value="Artefacto ZIP\n(git archive / .publishsrc)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#D97706;" vertex="1" parent="1">
          <mxGeometry x="740" y="220" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="onedeploy" value="Azure OneDeploy\n(az webapp deploy)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#16A34A;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1010" y="220" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="appsvc" value="Azure App Service Linux\nlamaregionnorte" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2FE;strokeColor=#0284C7;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1280" y="220" width="230" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="runtime" value="Runtime Startup\nNode + npm start" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#BE185D;" vertex="1" parent="1">
          <mxGeometry x="1280" y="360" width="230" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="health" value="Health Validation\nHTTP 200 (/ , /capitulos, /itinerario)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECFCCB;strokeColor=#4D7C0F;" vertex="1" parent="1">
          <mxGeometry x="1010" y="360" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="sql" value="Azure SQL Database\nConexión vía Pool Global" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FEE2E2;strokeColor=#B91C1C;" vertex="1" parent="1">
          <mxGeometry x="1280" y="500" width="230" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="logs" value="Observabilidad\nLog stream + deployment status" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EDE9FE;strokeColor=#6D28D9;" vertex="1" parent="1">
          <mxGeometry x="740" y="360" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="rollback" value="Recuperación\nrestart / redeploy runtime" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEDD5;strokeColor=#EA580C;" vertex="1" parent="1">
          <mxGeometry x="500" y="360" width="190" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="e1" value="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#2563EB;" edge="1" parent="1" source="dev" target="git"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e2" value="2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#374151;" edge="1" parent="1" source="git" target="github"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e3" value="3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#D97706;" edge="1" parent="1" source="github" target="artifact"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e4" value="4" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#16A34A;" edge="1" parent="1" source="artifact" target="onedeploy"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e5" value="5" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#0284C7;" edge="1" parent="1" source="onedeploy" target="appsvc"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e6" value="6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#BE185D;" edge="1" parent="1" source="appsvc" target="runtime"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e7" value="7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#4D7C0F;" edge="1" parent="1" source="runtime" target="health"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e8" value="8" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#B91C1C;" edge="1" parent="1" source="runtime" target="sql"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e9" value="9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#6D28D9;" edge="1" parent="1" source="onedeploy" target="logs"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e10" value="10" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#EA580C;" edge="1" parent="1" source="logs" target="rollback"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e11" value="11" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeWidth=2;endArrow=block;endFill=1;strokeColor=#EA580C;" edge="1" parent="1" source="rollback" target="onedeploy"><mxGeometry relative="1" as="geometry"/></mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>